---
// Astro frontmatter - absolutely no browser APIs or client-side code here
const pageTitle = "Advanced MDX Editor - Best GitHub Compatible Markdown Editor Online";
const pageDescription = "Professional MDX editor with live preview, GitHub flavored markdown support, rich text editing, code syntax highlighting, and instant markdown conversion.";
---

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{pageTitle} | Free Rich Text to Markdown Converter</title>
    <meta name="description" content={pageDescription}>
    <meta name="keywords" content="MDX editor, markdown editor, GitHub markdown, rich text editor, markdown converter, online markdown editor, MDX to markdown, WYSIWYG markdown, markdown preview, code editor">
    <meta name="author" content="Advanced MDX Editor">
    <meta property="og:title" content={pageTitle}>
    <meta property="og:description" content={pageDescription}>
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content={pageTitle}>
    <meta name="twitter:description" content={pageDescription}>
    <link rel="canonical" href="https://example.com/mdx-editor">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-bg: #F7F8FA;
            --secondary-bg: #ffffff;
            --heading-color: #222939;
            --accent-color: #2337FF;
            --text-color: #4a5568;
            --border-color: #e2e8f0;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.15);
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--primary-bg);
            color: var(--text-color);
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .hero-section {
            background: linear-gradient(135deg, var(--secondary-bg) 0%, var(--primary-bg) 100%);
            padding: 80px 0 60px;
            text-align: center;
        }

        .hero-content h1 {
            color: var(--heading-color);
            font-size: clamp(2.5rem, 5vw, 4rem);
            font-weight: 800;
            margin-bottom: 24px;
            line-height: 1.1;
        }

        .hero-content .subtitle {
            font-size: 1.3rem;
            color: var(--text-color);
            margin-bottom: 40px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .cta-button {
            display: inline-block;
            background: var(--accent-color);
            color: white;
            padding: 16px 32px;
            border-radius: 12px;
            text-decoration: none;
            font-weight: 600;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            box-shadow: var(--shadow);
        }

        .cta-button:hover {
            background: #1d2acc;
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .features-section {
            padding: 80px 0;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 40px;
            margin-top: 60px;
        }

        .feature-card {
            background: var(--secondary-bg);
            padding: 40px;
            border-radius: 20px;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .feature-icon {
            width: 60px;
            height: 60px;
            background: var(--accent-color);
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 24px;
            color: white;
            font-size: 24px;
        }

        .feature-card h3 {
            color: var(--heading-color);
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 16px;
        }

        .editor-section {
            padding: 60px 0;
            background: var(--secondary-bg);
        }

        .section-title {
            color: var(--heading-color);
            font-size: 2.5rem;
            font-weight: 700;
            text-align: center;
            margin-bottom: 20px;
        }

        .section-subtitle {
            text-align: center;
            font-size: 1.2rem;
            margin-bottom: 60px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .editor-container {
            background: var(--secondary-bg);
            border-radius: 20px;
            box-shadow: var(--shadow-lg);
            overflow: hidden;
            margin-bottom: 40px;
        }

        .editor-header {
            background: var(--heading-color);
            color: white;
            padding: 20px 30px;
            display: flex;
            align-items: center;
            justify-content: between;
        }

        .editor-title {
            font-weight: 600;
            font-size: 1.1rem;
        }

        .editor-toolbar {
            background: #f8fafc;
            border-bottom: 1px solid var(--border-color);
            padding: 15px 20px;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            align-items: center;
        }

        .toolbar-group {
            display: flex;
            gap: 5px;
            padding-right: 15px;
            border-right: 1px solid var(--border-color);
        }

        .toolbar-group:last-child {
            border-right: none;
        }

        .toolbar-btn {
            background: var(--secondary-bg);
            border: 1px solid var(--border-color);
            padding: 8px 12px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s ease;
            color: var(--text-color);
        }

        .toolbar-btn:hover {
            background: var(--accent-color);
            color: white;
            border-color: var(--accent-color);
        }

        .toolbar-btn.active {
            background: var(--accent-color);
            color: white;
            border-color: var(--accent-color);
        }

        .editor-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            min-height: 600px;
        }

        .editor-pane {
            position: relative;
        }

        .editor-input {
            width: 100%;
            height: 100%;
            border: none;
            outline: none;
            padding: 30px;
            font-family: 'JetBrains Mono', 'Monaco', 'Consolas', monospace;
            font-size: 14px;
            line-height: 1.8;
            resize: none;
            background: var(--secondary-bg);
        }

        .editor-preview {
            padding: 30px;
            background: #fafbfc;
            border-left: 1px solid var(--border-color);
            overflow-y: auto;
        }

        .pane-label {
            position: absolute;
            top: 10px;
            left: 20px;
            background: var(--accent-color);
            color: white;
            padding: 4px 12px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
            z-index: 10;
        }

        .preview-content h1,
        .preview-content h2,
        .preview-content h3,
        .preview-content h4,
        .preview-content h5,
        .preview-content h6 {
            color: var(--heading-color);
            margin: 24px 0 16px;
            font-weight: 600;
        }

        .preview-content h1 { font-size: 2rem; }
        .preview-content h2 { font-size: 1.7rem; }
        .preview-content h3 { font-size: 1.4rem; }
        .preview-content h4 { font-size: 1.2rem; }
        .preview-content h5 { font-size: 1.1rem; }
        .preview-content h6 { font-size: 1rem; }

        .preview-content p {
            margin-bottom: 16px;
            line-height: 1.7;
        }

        .preview-content code {
            background: #f1f5f9;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 13px;
            color: var(--accent-color);
        }

        .preview-content pre {
            background: var(--heading-color);
            color: #f8fafc;
            padding: 20px;
            border-radius: 12px;
            overflow-x: auto;
            margin: 20px 0;
            font-family: 'JetBrains Mono', monospace;
            font-size: 13px;
            line-height: 1.6;
        }

        .preview-content blockquote {
            border-left: 4px solid var(--accent-color);
            background: #f8fafc;
            padding: 16px 24px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }

        .preview-content table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: var(--secondary-bg);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .preview-content th,
        .preview-content td {
            padding: 12px 16px;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        .preview-content th {
            background: var(--primary-bg);
            font-weight: 600;
            color: var(--heading-color);
        }

        .preview-content ul,
        .preview-content ol {
            margin: 16px 0;
            padding-left: 24px;
        }

        .preview-content li {
            margin-bottom: 8px;
        }

        .export-section {
            background: var(--primary-bg);
            padding: 40px 0;
        }

        .export-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 30px;
        }

        .export-btn {
            background: var(--secondary-bg);
            border: 2px solid var(--accent-color);
            color: var(--accent-color);
            padding: 12px 24px;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .export-btn:hover {
            background: var(--accent-color);
            color: white;
        }

        .stats-section {
            padding: 60px 0;
            text-align: center;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 40px;
            margin-top: 40px;
        }

        .stat-item {
            background: var(--secondary-bg);
            padding: 30px;
            border-radius: 16px;
            box-shadow: var(--shadow);
        }

        .stat-number {
            font-size: 3rem;
            font-weight: 800;
            color: var(--accent-color);
            display: block;
        }

        .stat-label {
            color: var(--heading-color);
            font-weight: 600;
            margin-top: 8px;
        }

        .seo-content {
            padding: 80px 0;
            background: var(--secondary-bg);
        }

        .content-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 60px;
            margin-top: 60px;
        }

        .content-block h3 {
            color: var(--heading-color);
            font-size: 1.6rem;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .content-block p {
            margin-bottom: 16px;
            line-height: 1.7;
        }

        .highlight {
            color: var(--accent-color);
            font-weight: 600;
        }

        @media (max-width: 768px) {
            .editor-layout {
                grid-template-columns: 1fr;
            }
            
            .editor-preview {
                border-left: none;
                border-top: 1px solid var(--border-color);
            }
            
            .toolbar-group {
                border-right: none;
                padding-right: 0;
            }
        }
    </style>
</head>
<body>
    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container">
            <div class="hero-content">
                <h1>Advanced MDX Editor</h1>
                <p class="subtitle">Professional GitHub-compatible Markdown editor with live preview, rich text editing, and instant conversion. Perfect for developers, writers, and content creators.</p>
                <a href="#editor" class="cta-button">Start Editing Now</a>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features-section">
        <div class="container">
            <h2 class="section-title">Powerful Features for Modern Content Creation</h2>
            <p class="section-subtitle">Everything you need to create, edit, and export professional Markdown content with ease</p>
            
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">⚡</div>
                    <h3>Real-time Preview</h3>
                    <p>See your Markdown rendered instantly as you type. No delays, no refresh needed. Perfect for visual content creation and formatting verification.</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">🛠️</div>
                    <h3>Rich Text Toolbar</h3>
                    <p>Comprehensive formatting tools including headers, bold, italic, code blocks, tables, lists, and more. WYSIWYG editing meets Markdown power.</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">📋</div>
                    <h3>GitHub Compatibility</h3>
                    <p>Generate perfectly formatted GitHub Flavored Markdown. Supports task lists, tables, code fencing, and all GitHub-specific features.</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">🎨</div>
                    <h3>Syntax Highlighting</h3>
                    <p>Beautiful syntax highlighting for code blocks in 100+ languages. Makes your technical documentation clear and professional.</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">📱</div>
                    <h3>Responsive Design</h3>
                    <p>Works perfectly on desktop, tablet, and mobile devices. Edit your Markdown anywhere, anytime with the same great experience.</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">💾</div>
                    <h3>Multiple Export Options</h3>
                    <p>Export to .md files, copy to clipboard, or save as HTML. Multiple formats to suit your workflow and publishing needs.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Editor Section -->
    <section id="editor" class="editor-section">
        <div class="container">
            <h2 class="section-title">Start Creating Amazing Content</h2>
            <p class="section-subtitle">Use our advanced MDX editor to write, format, and preview your Markdown content in real-time</p>
            
            <div class="editor-container">
                <div class="editor-header">
                    <div class="editor-title">Advanced MDX Editor</div>
                    <div style="margin-left: auto;">
                        <button class="toolbar-btn" id="clear-btn">Clear</button>
                        <button class="toolbar-btn" id="sample-btn">Load Sample</button>
                    </div>
                </div>
                
                <div class="editor-toolbar">
                    <div class="toolbar-group">
                        <button class="toolbar-btn" data-action="h1" title="Heading 1">H1</button>
                        <button class="toolbar-btn" data-action="h2" title="Heading 2">H2</button>
                        <button class="toolbar-btn" data-action="h3" title="Heading 3">H3</button>
                    </div>
                    
                    <div class="toolbar-group">
                        <button class="toolbar-btn" data-action="bold" title="Bold">B</button>
                        <button class="toolbar-btn" data-action="italic" title="Italic">I</button>
                        <button class="toolbar-btn" data-action="code" title="Code">&lt;/&gt;</button>
                        <button class="toolbar-btn" data-action="strikethrough" title="Strikethrough">S</button>
                    </div>
                    
                    <div class="toolbar-group">
                        <button class="toolbar-btn" data-action="ul" title="Bullet List">•</button>
                        <button class="toolbar-btn" data-action="ol" title="Numbered List">1.</button>
                        <button class="toolbar-btn" data-action="task" title="Task List">☐</button>
                    </div>
                    
                    <div class="toolbar-group">
                        <button class="toolbar-btn" data-action="link" title="Link">🔗</button>
                        <button class="toolbar-btn" data-action="image" title="Image">🖼️</button>
                        <button class="toolbar-btn" data-action="table" title="Table">📊</button>
                    </div>
                    
                    <div class="toolbar-group">
                        <button class="toolbar-btn" data-action="quote" title="Blockquote">❝</button>
                        <button class="toolbar-btn" data-action="codeblock" title="Code Block">{}</button>
                        <button class="toolbar-btn" data-action="hr" title="Horizontal Rule">―</button>
                    </div>
                </div>
                
                <div class="editor-layout">
                    <div class="editor-pane">
                        <div class="pane-label">Markdown Input</div>
                        <textarea id="markdown-input" class="editor-input" placeholder="# Welcome to Advanced MDX Editor

Start typing your markdown here. Use the toolbar above for quick formatting, or type markdown syntax directly.

## Features
- Real-time preview
- GitHub compatible output
- Rich text toolbar
- Export options

## Code Example
```javascript
function hello() {
    console.log('Hello, World!');
}
```

> This is a blockquote. Perfect for highlighting important information.

Happy writing! 🚀"></textarea>
                    </div>
                    
                    <div class="editor-pane">
                        <div class="pane-label">Live Preview</div>
                        <div id="markdown-preview" class="editor-preview">
                            <div class="preview-content">
                                <h1>Welcome to Advanced MDX Editor</h1>
                                <p>Start typing your markdown here. Use the toolbar above for quick formatting, or type markdown syntax directly.</p>
                                <h2>Features</h2>
                                <ul>
                                    <li>Real-time preview</li>
                                    <li>GitHub compatible output</li>
                                    <li>Rich text toolbar</li>
                                    <li>Export options</li>
                                </ul>
                                <h2>Code Example</h2>
                                <pre><code class="language-javascript">function hello() {
    console.log('Hello, World!');
}</code></pre>
                                <blockquote>
                                    <p>This is a blockquote. Perfect for highlighting important information.</p>
                                </blockquote>
                                <p>Happy writing! 🚀</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="export-section">
                <div class="container">
                    <h3 style="text-align: center; color: var(--heading-color); margin-bottom: 20px;">Export Your Content</h3>
                    <div class="export-buttons">
                        <button class="export-btn" id="copy-md-btn">📋 Copy Markdown</button>
                        <button class="export-btn" id="download-md-btn">💾 Download .md</button>
                        <button class="export-btn" id="copy-html-btn">📄 Copy HTML</button>
                        <button class="export-btn" id="download-html-btn">🌐 Download HTML</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Stats Section -->
    <section class="stats-section">
        <div class="container">
            <h2 class="section-title">Trusted by Content Creators Worldwide</h2>
            <div class="stats-grid">
                <div class="stat-item">
                    <span class="stat-number" id="word-count">0</span>
                    <div class="stat-label">Words</div>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="char-count">0</span>
                    <div class="stat-label">Characters</div>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="line-count">0</span>
                    <div class="stat-label">Lines</div>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="reading-time">0</span>
                    <div class="stat-label">Min Read</div>
                </div>
            </div>
        </div>
    </section>

    <!-- SEO Content Section -->
    <section class="seo-content">
        <div class="container">
            <h2 class="section-title">Why Choose Our Advanced MDX Editor?</h2>
            <div class="content-grid">
                <div class="content-block">
                    <h3>Perfect for Developers</h3>
                    <p>Our <span class="highlight">GitHub-compatible Markdown editor</span> is designed specifically for developers who need to create documentation, README files, and technical content. With full support for GitHub Flavored Markdown (GFM), you can create task lists, tables, code blocks, and more with confidence.</p>
                    <p>The syntax highlighting feature supports over 100 programming languages, making it perfect for technical documentation, API guides, and coding tutorials. Whether you're documenting JavaScript, Python, Ruby, or any other language, your code will look professional and readable.</p>
                </div>
                
                <div class="content-block">
                    <h3>Content Creators' Dream Tool</h3>
                    <p>Writers, bloggers, and content marketers love our <span class="highlight">WYSIWYG Markdown editor</span> because it combines the simplicity of rich text editing with the power and portability of Markdown. Create blog posts, articles, and documentation that can be easily published anywhere.</p>
                    <p>The real-time preview feature eliminates guesswork, letting you see exactly how your content will appear when published. No more switching between edit and preview modes - everything happens instantly as you type.</p>
                </div>
                
                <div class="content-block">
                    <h3>Enterprise-Ready Features</h3>
                    <p>Built for professional workflows, our <span class="highlight">advanced MDX editor</span> includes features like table editing, mathematical expressions, and custom component support. Perfect for creating user manuals, technical specifications, and comprehensive documentation.</p>
                    <p>With multiple export options including Markdown files, HTML, and clipboard copying, you can integrate our editor into any publishing workflow. The responsive design ensures your team can work from any device, anywhere.</p>
                </div>
                
                <div class="content-block">
                    <h3>Open Source Friendly</h3>
                    <p>Designed with the <span class="highlight">open source community</span> in mind, our editor produces clean, standards-compliant Markdown that works perfectly with GitHub, GitLab, Bitbucket, and other platforms. Create pull request descriptions, issue templates, and project documentation with ease.</p>
                    <p>The editor supports all popular Markdown extensions including footnotes, definition lists, and custom HTML when needed. Your content will render perfectly across all major Markdown processors and static site generators.</p>
                </div>
                
                <div class="content-block">
                    <h3>Performance Optimized</h3>
                    <p>Experience lightning-fast performance with our <span class="highlight">optimized Markdown parser</span>. Even large documents with hundreds of lines render instantly. The editor is built with modern web technologies to ensure smooth operation on all devices and browsers.</p>
                    <p>Smart features like auto-save, undo/redo, and keyboard shortcuts make editing efficient and reliable. Focus on your content while the editor handles the technical details.</p>
                </div>
                
                <div class="content-block">
                    <h3>Accessibility First</h3>
                    <p>Built with <span class="highlight">web accessibility standards</span> in mind, our editor works perfectly with screen readers and supports keyboard navigation. Everyone can create beautiful Markdown content regardless of their abilities or preferred interaction methods.</p>
                    <p>High contrast mode, customizable font sizes, and clear visual indicators ensure that all users can write and edit comfortably. Inclusivity is at the core of our design philosophy.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Additional SEO Content -->
    <section style="padding: 60px 0; background: var(--primary-bg);">
        <div class="container">
            <h2 class="section-title">Frequently Asked Questions</h2>
            <div style="max-width: 800px; margin: 0 auto;">
                <div style="margin-bottom: 30px;">
                    <h3 style="color: var(--heading-color); margin-bottom: 10px;">What is MDX and how is it different from Markdown?</h3>
                    <p>MDX is an extension of Markdown that allows you to write JSX directly in your Markdown files. While traditional Markdown is great for simple content, MDX enables you to embed interactive components, making it perfect for modern documentation and content creation. Our editor supports both standard Markdown and MDX features.</p>
                </div>
                <div style="margin-bottom: 30px;">
                    <h3 style="color: var(--heading-color); margin-bottom: 10px;">Is the editor compatible with GitHub Flavored Markdown?</h3>
                    <p>Yes! Our editor fully supports GitHub Flavored Markdown (GFM) including task lists, strikethrough text, tables, and automatic linking. All content created in our editor will render perfectly on GitHub, making it ideal for README files, documentation, and issue descriptions.</p>
                </div>
                <div style="margin-bottom: 30px;">
                    <h3 style="color: var(--heading-color); margin-bottom: 10px;">Can I use this editor offline?</h3>
                    <p>While our editor works in your browser, it can function offline once loaded. Your content is processed locally, ensuring privacy and fast performance. However, for the best experience and latest features, we recommend using it with an internet connection.</p>
                </div>
                <div style="margin-bottom: 30px;">
                    <h3 style="color: var(--heading-color); margin-bottom: 10px;">What export formats are supported?</h3>
                    <p>You can export your content as Markdown files (.md), HTML files, or copy the formatted text directly to your clipboard. This flexibility makes it easy to integrate with any publishing platform or content management system.</p>
                </div>
            </div>
        </div>
    </section>
</body>

<script is:inline>
// All JavaScript code moved to client-side script tag
(function() {
    'use strict';

    // Markdown parsing function
    function parseMarkdown(markdown) {
        let html = markdown;

        // Headers
        html = html.replace(/^### (.*$)/gim, '<h3>$1</h3>');
        html = html.replace(/^## (.*$)/gim, '<h2>$1</h2>');
        html = html.replace(/^# (.*$)/gim, '<h1>$1</h1>');

        // Bold
        html = html.replace(/\*\*(.*?)\*\*/gim, '<strong>$1</strong>');

        // Italic
        html = html.replace(/\*(.*?)\*/gim, '<em>$1</em>');

        // Code inline
        html = html.replace(/`(.*?)`/gim, '<code>$1</code>');

        // Strikethrough
        html = html.replace(/~~(.*?)~~/gim, '<del>$1</del>');

        // Links
        html = html.replace(/\[([^\]]+)\]\(([^)]+)\)/gim, '<a href="$2" target="_blank">$1</a>');

        // Images
        html = html.replace(/!\[([^\]]*)\]\(([^)]+)\)/gim, '<img src="$2" alt="$1" style="max-width: 100%; height: auto;">');

        // Code blocks
        html = html.replace(/```(\w+)?\n([\s\S]*?)```/gim, function(match, lang, code) {
            return '<pre><code class="language-' + (lang || 'text') + '">' + code.trim() + '</code></pre>';
        });

        // Blockquotes
        html = html.replace(/^> (.*$)/gim, '<blockquote><p>$1</p></blockquote>');

        // Horizontal rules
        html = html.replace(/^---$/gim, '<hr>');

        // Task lists
        html = html.replace(/^- \[ \] (.*$)/gim, '<input type="checkbox" disabled> $1<br>');
        html = html.replace(/^- \[x\] (.*$)/gim, '<input type="checkbox" checked disabled> $1<br>');

        // Unordered lists
        html = html.replace(/^- (.*$)/gim, '<li>$1</li>');
        html = html.replace(/(<li>.*<\/li>)/s, '<ul>$1</ul>');

        // Ordered lists
        html = html.replace(/^\d+\. (.*$)/gim, '<li>$1</li>');
        
        // Tables (simplified)
        var tableRegex = /^\|(.+)\|\s*\n\|[-\s|:]+\|\s*\n((?:\|.*\|\s*\n?)*)/gm;
        html = html.replace(tableRegex, function(match, header, rows) {
            var headerCells = header.split('|').map(function(cell) { 
                return '<th>' + cell.trim() + '</th>'; 
            }).join('');
            var rowCells = rows.trim().split('\n').map(function(row) {
                return '<tr>' + row.split('|').slice(1, -1).map(function(cell) { 
                    return '<td>' + cell.trim() + '</td>'; 
                }).join('') + '</tr>';
            }).join('');
            return '<table><thead><tr>' + headerCells + '</tr></thead><tbody>' + rowCells + '</tbody></table>';
        });

        // Line breaks
        html = html.replace(/\n/gim, '<br>');

        // Clean up extra breaks in block elements
        html = html.replace(/<\/h([1-6])><br>/g, '</h$1>');
        html = html.replace(/<\/blockquote><br>/g, '</blockquote>');
        html = html.replace(/<\/pre><br>/g, '</pre>');
        html = html.replace(/<\/ul><br>/g, '</ul>');
        html = html.replace(/<\/ol><br>/g, '</ol>');
        html = html.replace(/<\/table><br>/g, '</table>');

        return html;
    }

    function updatePreview() {
        var input = document.getElementById('markdown-input');
        var preview = document.getElementById('markdown-preview');
        if (!input || !preview) return;
        
        var markdown = input.value;
        var html = parseMarkdown(markdown);
        preview.innerHTML = '<div class="preview-content">' + html + '</div>';
        
        updateStats(markdown);
    }

    function updateStats(text) {
        var words = text.trim() === '' ? 0 : text.trim().split(/\s+/).length;
        var chars = text.length;
        var lines = text === '' ? 0 : text.split('\n').length;
        var readingTime = Math.ceil(words / 200);

        var wordCountEl = document.getElementById('word-count');
        var charCountEl = document.getElementById('char-count');
        var lineCountEl = document.getElementById('line-count');
        var readingTimeEl = document.getElementById('reading-time');

        if (wordCountEl) wordCountEl.textContent = words.toLocaleString();
        if (charCountEl) charCountEl.textContent = chars.toLocaleString();
        if (lineCountEl) lineCountEl.textContent = lines.toLocaleString();
        if (readingTimeEl) readingTimeEl.textContent = readingTime;
    }

    function insertText(before, after) {
        var textarea = document.getElementById('markdown-input');
        if (!textarea) return;
        
        var start = textarea.selectionStart;
        var end = textarea.selectionEnd;
        var selectedText = textarea.value.substring(start, end);
        var newText = before + selectedText + after;
        
        textarea.setRangeText(newText, start, end, 'end');
        textarea.focus();
        updatePreview();
    }

    function loadSample() {
        var sample = '# Advanced MDX Editor Demo\n\nThis is a comprehensive demonstration of our **powerful Markdown editor** with real-time preview capabilities.\n\n## Features Showcase\n\n### Text Formatting\n- **Bold text** using double asterisks\n- *Italic text* using single asterisks\n- `inline code` using backticks\n- ~~Strikethrough text~~ using tildes\n\n### Lists and Tasks\n1. Ordered list item 1\n2. Ordered list item 2\n3. Ordered list item 3\n\nUnordered list:\n- Bullet point 1\n- Bullet point 2\n- Bullet point 3\n\nTask list:\n- [x] Completed task\n- [ ] Pending task\n- [ ] Another pending task\n\n### Code Blocks\n\n```javascript\n// JavaScript example\nfunction greet(name) {\n    return `Hello, ${name}!`;\n}\n\nconsole.log(greet("MDX Editor"));\n```\n\n### Blockquotes\n\n> This is a blockquote. Perfect for highlighting important information.\n\n### Tables\n\n| Feature | Description | Status |\n|---------|-------------|--------|\n| Live Preview | Real-time markdown rendering | ✅ Completed |\n| Export Options | Multiple export formats | ✅ Completed |\n\nHappy writing! 🚀';
        
        var input = document.getElementById('markdown-input');
        if (input) {
            input.value = sample;
            updatePreview();
        }
    }

    function clearEditor() {
        if (confirm('Are you sure you want to clear all content?')) {
            var input = document.getElementById('markdown-input');
            if (input) {
                input.value = '';
                updatePreview();
            }
        }
    }

    function copyToClipboard() {
        var textarea = document.getElementById('markdown-input');
        if (!textarea) return;
        
        var text = textarea.value;
        if (navigator.clipboard) {
            navigator.clipboard.writeText(text).then(function() {
                showNotification('Markdown copied to clipboard!');
            }).catch(function() {
                fallbackCopy(text);
            });
        } else {
            fallbackCopy(text);
        }
    }

    function copyHTML() {
        var textarea = document.getElementById('markdown-input');
        if (!textarea) return;
        
        var markdown = textarea.value;
        var html = parseMarkdown(markdown);
        if (navigator.clipboard) {
            navigator.clipboard.writeText(html).then(function() {
                showNotification('HTML copied to clipboard!');
            }).catch(function() {
                fallbackCopy(html);
            });
        } else {
            fallbackCopy(html);
        }
    }

    function fallbackCopy(text) {
        var textArea = document.createElement("textarea");
        textArea.value = text;
        textArea.style.position = "fixed";
        textArea.style.top = "0";
        textArea.style.left = "0";
        document.body.appendChild(textArea);
        textArea.focus();
        textArea.select();
        
        try {
            document.execCommand('copy');
            showNotification('Content copied to clipboard!');
        } catch (err) {
            showNotification('Failed to copy content');
        }
        
        document.body.removeChild(textArea);
    }

    function downloadFile(content, filename, type) {
        var blob = new Blob([content], { type: type });
        var url = URL.createObjectURL(blob);
        var a = document.createElement('a');
        a.href = url;
        a.download = filename;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
    }

    function showNotification(message) {
        var notification = document.createElement('div');
        notification.style.cssText = 'position: fixed; top: 20px; right: 20px; background: #2337FF; color: white; padding: 12px 24px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); z-index: 1000; font-weight: 500;';
        notification.textContent = message;
        
        document.body.appendChild(notification);
        
        setTimeout(function() {
            if (notification.parentNode) {
                notification.parentNode.removeChild(notification);
            }
        }, 3000);
    }

    // Initialize when DOM is ready
    document.addEventListener('DOMContentLoaded', function() {
        var textarea = document.getElementById('markdown-input');
        if (textarea) {
            loadSample();
            textarea.addEventListener('input', updatePreview);
            
            // Keyboard shortcuts
            textarea.addEventListener('keydown', function(e) {
                if (e.ctrlKey || e.metaKey) {
                    switch(e.key) {
                        case 'b':
                            e.preventDefault();
                            insertText('**', '**');
                            break;
                        case 'i':
                            e.preventDefault();
                            insertText('*', '*');
                            break;
                    }
                }
                
                if (e.key === 'Tab') {
                    e.preventDefault();
                    insertText('    ', '');
                }
            });
        }

        // Toolbar event listeners
        document.addEventListener('click', function(e) {
            var action = e.target.getAttribute('data-action');
            if (action) {
                switch(action) {
                    case 'h1': insertText('# ', ''); break;
                    case 'h2': insertText('## ', ''); break;
                    case 'h3': insertText('### ', ''); break;
                    case 'bold': insertText('**', '**'); break;
                    case 'italic': insertText('*', '*'); break;
                    case 'code': insertText('`', '`'); break;
                    case 'strikethrough': insertText('~~', '~~'); break;
                    case 'ul': insertText('- ', ''); break;
                    case 'ol': insertText('1. ', ''); break;
                    case 'task': insertText('- [ ] ', ''); break;
                    case 'link': insertText('[', '](url)'); break;
                    case 'image': insertText('![alt text](image-url)', ''); break;
                    case 'table': insertText('| Header 1 | Header 2 |\n|----------|----------|\n| Cell 1   | Cell 2   |', ''); break;
                    case 'quote': insertText('> ', ''); break;
                    case 'codeblock': insertText('```\n', '\n```'); break;
                    case 'hr': insertText('---', ''); break;
                }
            }
            
            if (e.target.id === 'clear-btn') clearEditor();
            if (e.target.id === 'sample-btn') loadSample();
            if (e.target.id === 'copy-md-btn') copyToClipboard();
            if (e.target.id === 'copy-html-btn') copyHTML();
            if (e.target.id === 'download-md-btn') {
                var textarea = document.getElementById('markdown-input');
                if (textarea) downloadFile(textarea.value, 'document.md', 'text/markdown');
                showNotification('Markdown file downloaded!');
            }
            if (e.target.id === 'download-html-btn') {
                var textarea = document.getElementById('markdown-input');
                if (textarea) {
                    var html = '<!DOCTYPE html><html><head><title>Document</title></head><body>' + parseMarkdown(textarea.value) + '</body></html>';
                    downloadFile(html, 'document.html', 'text/html');
                    showNotification('HTML file downloaded!');
                }
            }
        });
    });
})();
</script>
</html>
