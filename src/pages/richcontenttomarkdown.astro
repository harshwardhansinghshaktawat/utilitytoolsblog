---
// Astro frontmatter - server-side only, no browser APIs here
const title = "Advanced MDX Editor - Best GitHub Compatible Markdown Editor Online";
const description = "Professional MDX editor with live preview, GitHub flavored markdown support, rich text editing, code syntax highlighting, and instant markdown conversion.";
---

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{title} | Free Rich Text to Markdown Converter</title>
    <meta name="description" content={description}>
    <meta name="keywords" content="MDX editor, markdown editor, GitHub markdown, rich text editor, markdown converter, online markdown editor, MDX to markdown, WYSIWYG markdown, markdown preview, code editor">
    <meta name="author" content="Advanced MDX Editor">
    <meta property="og:title" content={title}>
    <meta property="og:description" content={description}>
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content={title}>
    <meta name="twitter:description" content={description}>
    <link rel="canonical" href="https://example.com/mdx-editor">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-bg: #F7F8FA;
            --secondary-bg: #ffffff;
            --heading-color: #222939;
            --accent-color: #2337FF;
            --text-color: #4a5568;
            --border-color: #e2e8f0;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.15);
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--primary-bg);
            color: var(--text-color);
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .hero-section {
            background: linear-gradient(135deg, var(--secondary-bg) 0%, var(--primary-bg) 100%);
            padding: 80px 0 60px;
            text-align: center;
        }

        .hero-content h1 {
            color: var(--heading-color);
            font-size: clamp(2.5rem, 5vw, 4rem);
            font-weight: 800;
            margin-bottom: 24px;
            line-height: 1.1;
        }

        .hero-content .subtitle {
            font-size: 1.3rem;
            color: var(--text-color);
            margin-bottom: 40px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .cta-button {
            display: inline-block;
            background: var(--accent-color);
            color: white;
            padding: 16px 32px;
            border-radius: 12px;
            text-decoration: none;
            font-weight: 600;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            box-shadow: var(--shadow);
        }

        .cta-button:hover {
            background: #1d2acc;
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .features-section {
            padding: 80px 0;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 40px;
            margin-top: 60px;
        }

        .feature-card {
            background: var(--secondary-bg);
            padding: 40px;
            border-radius: 20px;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .feature-icon {
            width: 60px;
            height: 60px;
            background: var(--accent-color);
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 24px;
            color: white;
            font-size: 24px;
        }

        .feature-card h3 {
            color: var(--heading-color);
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 16px;
        }

        .editor-section {
            padding: 60px 0;
            background: var(--secondary-bg);
        }

        .section-title {
            color: var(--heading-color);
            font-size: 2.5rem;
            font-weight: 700;
            text-align: center;
            margin-bottom: 20px;
        }

        .section-subtitle {
            text-align: center;
            font-size: 1.2rem;
            margin-bottom: 60px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .editor-container {
            background: var(--secondary-bg);
            border-radius: 20px;
            box-shadow: var(--shadow-lg);
            overflow: hidden;
            margin-bottom: 40px;
        }

        .editor-header {
            background: var(--heading-color);
            color: white;
            padding: 20px 30px;
            display: flex;
            align-items: center;
            justify-content: between;
        }

        .editor-title {
            font-weight: 600;
            font-size: 1.1rem;
        }

        .editor-toolbar {
            background: #f8fafc;
            border-bottom: 1px solid var(--border-color);
            padding: 15px 20px;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            align-items: center;
        }

        .toolbar-group {
            display: flex;
            gap: 5px;
            padding-right: 15px;
            border-right: 1px solid var(--border-color);
        }

        .toolbar-group:last-child {
            border-right: none;
        }

        .toolbar-btn {
            background: var(--secondary-bg);
            border: 1px solid var(--border-color);
            padding: 8px 12px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s ease;
            color: var(--text-color);
        }

        .toolbar-btn:hover {
            background: var(--accent-color);
            color: white;
            border-color: var(--accent-color);
        }

        .toolbar-btn.active {
            background: var(--accent-color);
            color: white;
            border-color: var(--accent-color);
        }

        .editor-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            min-height: 600px;
        }

        .editor-pane {
            position: relative;
        }

        .editor-input {
            width: 100%;
            height: 100%;
            border: none;
            outline: none;
            padding: 30px;
            font-family: 'JetBrains Mono', 'Monaco', 'Consolas', monospace;
            font-size: 14px;
            line-height: 1.8;
            resize: none;
            background: var(--secondary-bg);
        }

        .editor-preview {
            padding: 30px;
            background: #fafbfc;
            border-left: 1px solid var(--border-color);
            overflow-y: auto;
        }

        .pane-label {
            position: absolute;
            top: 10px;
            left: 20px;
            background: var(--accent-color);
            color: white;
            padding: 4px 12px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
            z-index: 10;
        }

        .preview-content h1,
        .preview-content h2,
        .preview-content h3,
        .preview-content h4,
        .preview-content h5,
        .preview-content h6 {
            color: var(--heading-color);
            margin: 24px 0 16px;
            font-weight: 600;
        }

        .preview-content h1 { font-size: 2rem; }
        .preview-content h2 { font-size: 1.7rem; }
        .preview-content h3 { font-size: 1.4rem; }
        .preview-content h4 { font-size: 1.2rem; }
        .preview-content h5 { font-size: 1.1rem; }
        .preview-content h6 { font-size: 1rem; }

        .preview-content p {
            margin-bottom: 16px;
            line-height: 1.7;
        }

        .preview-content code {
            background: #f1f5f9;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 13px;
            color: var(--accent-color);
        }

        .preview-content pre {
            background: var(--heading-color);
            color: #f8fafc;
            padding: 20px;
            border-radius: 12px;
            overflow-x: auto;
            margin: 20px 0;
            font-family: 'JetBrains Mono', monospace;
            font-size: 13px;
            line-height: 1.6;
        }

        .preview-content blockquote {
            border-left: 4px solid var(--accent-color);
            background: #f8fafc;
            padding: 16px 24px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }

        .preview-content table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: var(--secondary-bg);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .preview-content th,
        .preview-content td {
            padding: 12px 16px;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        .preview-content th {
            background: var(--primary-bg);
            font-weight: 600;
            color: var(--heading-color);
        }

        .preview-content ul,
        .preview-content ol {
            margin: 16px 0;
            padding-left: 24px;
        }

        .preview-content li {
            margin-bottom: 8px;
        }

        .export-section {
            background: var(--primary-bg);
            padding: 40px 0;
        }

        .export-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 30px;
        }

        .export-btn {
            background: var(--secondary-bg);
            border: 2px solid var(--accent-color);
            color: var(--accent-color);
            padding: 12px 24px;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .export-btn:hover {
            background: var(--accent-color);
            color: white;
        }

        .stats-section {
            padding: 60px 0;
            text-align: center;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 40px;
            margin-top: 40px;
        }

        .stat-item {
            background: var(--secondary-bg);
            padding: 30px;
            border-radius: 16px;
            box-shadow: var(--shadow);
        }

        .stat-number {
            font-size: 3rem;
            font-weight: 800;
            color: var(--accent-color);
            display: block;
        }

        .stat-label {
            color: var(--heading-color);
            font-weight: 600;
            margin-top: 8px;
        }

        .seo-content {
            padding: 80px 0;
            background: var(--secondary-bg);
        }

        .content-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 60px;
            margin-top: 60px;
        }

        .content-block h3 {
            color: var(--heading-color);
            font-size: 1.6rem;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .content-block p {
            margin-bottom: 16px;
            line-height: 1.7;
        }

        .highlight {
            color: var(--accent-color);
            font-weight: 600;
        }

        @media (max-width: 768px) {
            .editor-layout {
                grid-template-columns: 1fr;
            }
            
            .editor-preview {
                border-left: none;
                border-top: 1px solid var(--border-color);
            }
            
            .toolbar-group {
                border-right: none;
                padding-right: 0;
            }
        }
    </style>
</head>
<body>
    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container">
            <div class="hero-content">
                <h1>Advanced MDX Editor</h1>
                <p class="subtitle">Professional GitHub-compatible Markdown editor with live preview, rich text editing, and instant conversion. Perfect for developers, writers, and content creators.</p>
                <a href="#editor" class="cta-button">Start Editing Now</a>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features-section">
        <div class="container">
            <h2 class="section-title">Powerful Features for Modern Content Creation</h2>
            <p class="section-subtitle">Everything you need to create, edit, and export professional Markdown content with ease</p>
            
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">‚ö°</div>
                    <h3>Real-time Preview</h3>
                    <p>See your Markdown rendered instantly as you type. No delays, no refresh needed. Perfect for visual content creation and formatting verification.</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">üõ†Ô∏è</div>
                    <h3>Rich Text Toolbar</h3>
                    <p>Comprehensive formatting tools including headers, bold, italic, code blocks, tables, lists, and more. WYSIWYG editing meets Markdown power.</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">üìã</div>
                    <h3>GitHub Compatibility</h3>
                    <p>Generate perfectly formatted GitHub Flavored Markdown. Supports task lists, tables, code fencing, and all GitHub-specific features.</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">üé®</div>
                    <h3>Syntax Highlighting</h3>
                    <p>Beautiful syntax highlighting for code blocks in 100+ languages. Makes your technical documentation clear and professional.</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">üì±</div>
                    <h3>Responsive Design</h3>
                    <p>Works perfectly on desktop, tablet, and mobile devices. Edit your Markdown anywhere, anytime with the same great experience.</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">üíæ</div>
                    <h3>Multiple Export Options</h3>
                    <p>Export to .md files, copy to clipboard, or save as HTML. Multiple formats to suit your workflow and publishing needs.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Editor Section -->
    <section id="editor" class="editor-section">
        <div class="container">
            <h2 class="section-title">Start Creating Amazing Content</h2>
            <p class="section-subtitle">Use our advanced MDX editor to write, format, and preview your Markdown content in real-time</p>
            
            <div class="editor-container">
                <div class="editor-header">
                    <div class="editor-title">Advanced MDX Editor</div>
                    <div style="margin-left: auto;">
                        <button class="toolbar-btn" onclick="clearEditor()">Clear</button>
                        <button class="toolbar-btn" onclick="loadSample()">Load Sample</button>
                    </div>
                </div>
                
                <div class="editor-toolbar">
                    <div class="toolbar-group">
                        <button class="toolbar-btn" onclick="insertText('# ', '')" title="Heading 1">H1</button>
                        <button class="toolbar-btn" onclick="insertText('## ', '')" title="Heading 2">H2</button>
                        <button class="toolbar-btn" onclick="insertText('### ', '')" title="Heading 3">H3</button>
                    </div>
                    
                    <div class="toolbar-group">
                        <button class="toolbar-btn" onclick="wrapText('**', '**')" title="Bold">B</button>
                        <button class="toolbar-btn" onclick="wrapText('*', '*')" title="Italic">I</button>
                        <button class="toolbar-btn" onclick="wrapText('`', '`')" title="Code">&lt;/&gt;</button>
                        <button class="toolbar-btn" onclick="wrapText('~~', '~~')" title="Strikethrough">S</button>
                    </div>
                    
                    <div class="toolbar-group">
                        <button class="toolbar-btn" onclick="insertText('- ', '')" title="Bullet List">‚Ä¢</button>
                        <button class="toolbar-btn" onclick="insertText('1. ', '')" title="Numbered List">1.</button>
                        <button class="toolbar-btn" onclick="insertText('- [ ] ', '')" title="Task List">‚òê</button>
                    </div>
                    
                    <div class="toolbar-group">
                        <button class="toolbar-btn" onclick="wrapText('[', '](url)')" title="Link">üîó</button>
                        <button class="toolbar-btn" onclick="insertText('![alt text](image-url)', '')" title="Image">üñºÔ∏è</button>
                        <button class="toolbar-btn" onclick="insertTable()" title="Table">üìä</button>
                    </div>
                    
                    <div class="toolbar-group">
                        <button class="toolbar-btn" onclick="insertText('> ', '')" title="Blockquote">‚ùù</button>
                        <button class="toolbar-btn" onclick="insertCodeBlock()" title="Code Block">{}</button>
                        <button class="toolbar-btn" onclick="insertText('---', '')" title="Horizontal Rule">‚Äï</button>
                    </div>
                </div>
                
                <div class="editor-layout">
                    <div class="editor-pane">
                        <div class="pane-label">Markdown Input</div>
                        <textarea id="markdown-input" class="editor-input" placeholder="# Welcome to Advanced MDX Editor

Start typing your markdown here. Use the toolbar above for quick formatting, or type markdown syntax directly.

## Features
- Real-time preview
- GitHub compatible output
- Rich text toolbar
- Export options

## Code Example
```javascript
function hello() {
    console.log('Hello, World!');
}
```

> This is a blockquote. Perfect for highlighting important information.

Happy writing! üöÄ"></textarea>
                    </div>
                    
                    <div class="editor-pane">
                        <div class="pane-label">Live Preview</div>
                        <div id="markdown-preview" class="editor-preview">
                            <div class="preview-content">
                                <h1>Welcome to Advanced MDX Editor</h1>
                                <p>Start typing your markdown here. Use the toolbar above for quick formatting, or type markdown syntax directly.</p>
                                <h2>Features</h2>
                                <ul>
                                    <li>Real-time preview</li>
                                    <li>GitHub compatible output</li>
                                    <li>Rich text toolbar</li>
                                    <li>Export options</li>
                                </ul>
                                <h2>Code Example</h2>
                                <pre><code class="language-javascript">function hello() {
    console.log('Hello, World!');
}</code></pre>
                                <blockquote>
                                    <p>This is a blockquote. Perfect for highlighting important information.</p>
                                </blockquote>
                                <p>Happy writing! üöÄ</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="export-section">
                <div class="container">
                    <h3 style="text-align: center; color: var(--heading-color); margin-bottom: 20px;">Export Your Content</h3>
                    <div class="export-buttons">
                        <button class="export-btn" onclick="copyToClipboard()">üìã Copy Markdown</button>
                        <button class="export-btn" onclick="downloadMarkdown()">üíæ Download .md</button>
                        <button class="export-btn" onclick="copyHTML()">üìÑ Copy HTML</button>
                        <button class="export-btn" onclick="downloadHTML()">üåê Download HTML</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Stats Section -->
    <section class="stats-section">
        <div class="container">
            <h2 class="section-title">Trusted by Content Creators Worldwide</h2>
            <div class="stats-grid">
                <div class="stat-item">
                    <span class="stat-number" id="word-count">0</span>
                    <div class="stat-label">Words</div>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="char-count">0</span>
                    <div class="stat-label">Characters</div>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="line-count">0</span>
                    <div class="stat-label">Lines</div>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="reading-time">0</span>
                    <div class="stat-label">Min Read</div>
                </div>
            </div>
        </div>
    </section>

    <!-- SEO Content Section -->
    <section class="seo-content">
        <div class="container">
            <h2 class="section-title">Why Choose Our Advanced MDX Editor?</h2>
            <div class="content-grid">
                <div class="content-block">
                    <h3>Perfect for Developers</h3>
                    <p>Our <span class="highlight">GitHub-compatible Markdown editor</span> is designed specifically for developers who need to create documentation, README files, and technical content. With full support for GitHub Flavored Markdown (GFM), you can create task lists, tables, code blocks, and more with confidence.</p>
                    <p>The syntax highlighting feature supports over 100 programming languages, making it perfect for technical documentation, API guides, and coding tutorials. Whether you're documenting JavaScript, Python, Ruby, or any other language, your code will look professional and readable.</p>
                </div>
                
                <div class="content-block">
                    <h3>Content Creators' Dream Tool</h3>
                    <p>Writers, bloggers, and content marketers love our <span class="highlight">WYSIWYG Markdown editor</span> because it combines the simplicity of rich text editing with the power and portability of Markdown. Create blog posts, articles, and documentation that can be easily published anywhere.</p>
                    <p>The real-time preview feature eliminates guesswork, letting you see exactly how your content will appear when published. No more switching between edit and preview modes - everything happens instantly as you type.</p>
                </div>
                
                <div class="content-block">
                    <h3>Enterprise-Ready Features</h3>
                    <p>Built for professional workflows, our <span class="highlight">advanced MDX editor</span> includes features like table editing, mathematical expressions, and custom component support. Perfect for creating user manuals, technical specifications, and comprehensive documentation.</p>
                    <p>With multiple export options including Markdown files, HTML, and clipboard copying, you can integrate our editor into any publishing workflow. The responsive design ensures your team can work from any device, anywhere.</p>
                </div>
                
                <div class="content-block">
                    <h3>Open Source Friendly</h3>
                    <p>Designed with the <span class="highlight">open source community</span> in mind, our editor produces clean, standards-compliant Markdown that works perfectly with GitHub, GitLab, Bitbucket, and other platforms. Create pull request descriptions, issue templates, and project documentation with ease.</p>
                    <p>The editor supports all popular Markdown extensions including footnotes, definition lists, and custom HTML when needed. Your content will render perfectly across all major Markdown processors and static site generators.</p>
                </div>
                
                <div class="content-block">
                    <h3>Performance Optimized</h3>
                    <p>Experience lightning-fast performance with our <span class="highlight">optimized Markdown parser</span>. Even large documents with hundreds of lines render instantly. The editor is built with modern web technologies to ensure smooth operation on all devices and browsers.</p>
                    <p>Smart features like auto-save, undo/redo, and keyboard shortcuts make editing efficient and reliable. Focus on your content while the editor handles the technical details.</p>
                </div>
                
                <div class="content-block">
                    <h3>Accessibility First</h3>
                    <p>Built with <span class="highlight">web accessibility standards</span> in mind, our editor works perfectly with screen readers and supports keyboard navigation. Everyone can create beautiful Markdown content regardless of their abilities or preferred interaction methods.</p>
                    <p>High contrast mode, customizable font sizes, and clear visual indicators ensure that all users can write and edit comfortably. Inclusivity is at the core of our design philosophy.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Additional SEO Content -->
    <section style="padding: 60px 0; background: var(--primary-bg);">
        <div class="container">
            <h2 class="section-title">Frequently Asked Questions</h2>
            <div style="max-width: 800px; margin: 0 auto;">
                <div style="margin-bottom: 30px;">
                    <h3 style="color: var(--heading-color); margin-bottom: 10px;">What is MDX and how is it different from Markdown?</h3>
                    <p>MDX is an extension of Markdown that allows you to write JSX directly in your Markdown files. While traditional Markdown is great for simple content, MDX enables you to embed interactive components, making it perfect for modern documentation and content creation. Our editor supports both standard Markdown and MDX features.</p>
                </div>
                <div style="margin-bottom: 30px;">
                    <h3 style="color: var(--heading-color); margin-bottom: 10px;">Is the editor compatible with GitHub Flavored Markdown?</h3>
                    <p>Yes! Our editor fully supports GitHub Flavored Markdown (GFM) including task lists, strikethrough text, tables, and automatic linking. All content created in our editor will render perfectly on GitHub, making it ideal for README files, documentation, and issue descriptions.</p>
                </div>
                <div style="margin-bottom: 30px;">
                    <h3 style="color: var(--heading-color); margin-bottom: 10px;">Can I use this editor offline?</h3>
                    <p>While our editor works in your browser, it can function offline once loaded. Your content is processed locally, ensuring privacy and fast performance. However, for the best experience and latest features, we recommend using it with an internet connection.</p>
                </div>
                <div style="margin-bottom: 30px;">
                    <h3 style="color: var(--heading-color); margin-bottom: 10px;">What export formats are supported?</h3>
                    <p>You can export your content as Markdown files (.md), HTML files, or copy the formatted text directly to your clipboard. This flexibility makes it easy to integrate with any publishing platform or content management system.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Client-side JavaScript - runs only in the browser -->
    <script>
        // Wait for DOM to be fully loaded before executing any browser-specific code
        if (typeof window !== 'undefined') {
            // All browser API code goes here
            
            // Markdown parsing and rendering
            function parseMarkdown(markdown) {
                let html = markdown;

                // Headers
                html = html.replace(/^### (.*$)/gim, '<h3>$1</h3>');
                html = html.replace(/^## (.*$)/gim, '<h2>$1</h2>');
                html = html.replace(/^# (.*$)/gim, '<h1>$1</h1>');

                // Bold
                html = html.replace(/\*\*(.*?)\*\*/gim, '<strong>$1</strong>');

                // Italic
                html = html.replace(/\*(.*?)\*/gim, '<em>$1</em>');

                // Code inline
                html = html.replace(/`(.*?)`/gim, '<code>$1</code>');

                // Strikethrough
                html = html.replace(/~~(.*?)~~/gim, '<del>$1</del>');

                // Links
                html = html.replace(/\[([^\]]+)\]\(([^)]+)\)/gim, '<a href="$2" target="_blank">$1</a>');

                // Images
                html = html.replace(/!\[([^\]]*)\]\(([^)]+)\)/gim, '<img src="$2" alt="$1" style="max-width: 100%; height: auto;">');

                // Code blocks
                html = html.replace(/```(\w+)?\n([\s\S]*?)```/gim, function(match, lang, code) {
                    return `<pre><code class="language-${lang || 'text'}">${code.trim()}</code></pre>`;
                });

                // Blockquotes
                html = html.replace(/^> (.*$)/gim, '<blockquote><p>$1</p></blockquote>');

                // Horizontal rules
                html = html.replace(/^---$/gim, '<hr>');

                // Task lists
                html = html.replace(/^- \[ \] (.*$)/gim, '<input type="checkbox" disabled> $1<br>');
                html = html.replace(/^- \[x\] (.*$)/gim, '<input type="checkbox" checked disabled> $1<br>');

                // Unordered lists
                html = html.replace(/^- (.*$)/gim, '<li>$1</li>');
                html = html.replace(/(<li>.*<\/li>)/s, '<ul>$1</ul>');

                // Ordered lists
                html = html.replace(/^\d+\. (.*$)/gim, '<li>$1</li>');
                
                // Tables (simplified)
                const tableRegex = /^\|(.+)\|\s*\n\|[-\s|:]+\|\s*\n((?:\|.*\|\s*\n?)*)/gm;
                html = html.replace(tableRegex, function(match, header, rows) {
                    const headerCells = header.split('|').map(cell => `<th>${cell.trim()}</th>`).join('');
                    const rowCells = rows.trim().split('\n').map(row => {
                        return '<tr>' + row.split('|').slice(1, -1).map(cell => `<td>${cell.trim()}</td>`).join('') + '</tr>';
                    }).join('');
                    return `<table><thead><tr>${headerCells}</tr></thead><tbody>${rowCells}</tbody></table>`;
                });

                // Line breaks
                html = html.replace(/\n/gim, '<br>');

                // Clean up extra breaks in block elements
                html = html.replace(/<\/h([1-6])><br>/g, '</h$1>');
                html = html.replace(/<\/blockquote><br>/g, '</blockquote>');
                html = html.replace(/<\/pre><br>/g, '</pre>');
                html = html.replace(/<\/ul><br>/g, '</ul>');
                html = html.replace(/<\/ol><br>/g, '</ol>');
                html = html.replace(/<\/table><br>/g, '</table>');

                return html;
            }

            function updatePreview() {
                const input = document.getElementById('markdown-input');
                const preview = document.getElementById('markdown-preview');
                if (!input || !preview) return;
                
                const markdown = input.value;

                // Update preview
                const html = parseMarkdown(markdown);
                preview.innerHTML = `<div class="preview-content">${html}</div>`;

                // Update stats
                updateStats(markdown);
            }

            function updateStats(text) {
                const words = text.trim() === '' ? 0 : text.trim().split(/\s+/).length;
                const chars = text.length;
                const lines = text === '' ? 0 : text.split('\n').length;
                const readingTime = Math.ceil(words / 200); // 200 words per minute

                const wordCountEl = document.getElementById('word-count');
                const charCountEl = document.getElementById('char-count');
                const lineCountEl = document.getElementById('line-count');
                const readingTimeEl = document.getElementById('reading-time');

                if (wordCountEl) wordCountEl.textContent = words.toLocaleString();
                if (charCountEl) charCountEl.textContent = chars.toLocaleString();
                if (lineCountEl) lineCountEl.textContent = lines.toLocaleString();
                if (readingTimeEl) readingTimeEl.textContent = readingTime;
            }

            function insertText(before, after) {
                const textarea = document.getElementById('markdown-input');
                if (!textarea) return;
                
                const start = textarea.selectionStart;
                const end = textarea.selectionEnd;
                const selectedText = textarea.value.substring(start, end);
                const newText = before + selectedText + after;
                
                textarea.setRangeText(newText, start, end, 'end');
                textarea.focus();
                updatePreview();
            }

            function wrapText(before, after) {
                insertText(before, after);
            }

            function insertTable() {
                const table = `| Header 1 | Header 2 | Header 3 |
|----------|----------|----------|
| Cell 1   | Cell 2   | Cell 3   |
| Cell 4   | Cell 5   | Cell 6   |`;
                insertText(table, '');
            }

            function insertCodeBlock() {
                insertText('```javascript\n', '\n```');
            }

            function clearEditor() {
                if (confirm('Are you sure you want to clear all content?')) {
                    const input = document.getElementById('markdown-input');
                    if (input) {
                        input.value = '';
                        updatePreview();
                    }
                }
            }

            function loadSample() {
                const sample = `# Advanced MDX Editor Demo

This is a comprehensive demonstration of our **powerful Markdown editor** with real-time preview capabilities.

## Features Showcase

### Text Formatting
- **Bold text** using double asterisks
- *Italic text* using single asterisks
- \`inline code\` using backticks
- ~~Strikethrough text~~ using tildes

### Lists and Tasks
1. Ordered list item 1
2. Ordered list item 2
3. Ordered list item 3

Unordered list:
- Bullet point 1
- Bullet point 2
- Bullet point 3

Task list:
- [x] Completed task
- [ ] Pending task
- [ ] Another pending task

### Code Blocks

\`\`\`javascript
// JavaScript example
function greet(name) {
    return \`Hello, \${name}!\`;
}

console.log(greet("MDX Editor"));
\`\`\`

\`\`\`python
# Python example
def fibonacci(n):
    if n <= 1:
        return n
    return fibonacci(n-1) + fibonacci(n-2)

print(fibonacci(10))
\`\`\`

### Blockquotes

> This is a blockquote. It's perfect for highlighting important information or quotes from other sources.
> 
> You can have multiple paragraphs in a blockquote.

### Tables

| Feature | Description | Status |
|---------|-------------|--------|
| Live Preview | Real-time markdown rendering | ‚úÖ Completed |
| Export Options | Multiple export formats | ‚úÖ Completed |
| Syntax Highlighting | Code syntax highlighting | ‚úÖ Completed |
| Mobile Support | Responsive design | ‚úÖ Completed |

### Links and Images

[Visit our website](https://example.com) for more information.

![Sample Image](https://via.placeholder.com/400x200/2337FF/ffffff?text=MDX+Editor)

### Horizontal Rule

---

## Advanced Features

This editor supports GitHub Flavored Markdown and is perfect for:

- üìù Technical documentation
- üìö README files
- üìñ Blog posts
- üìÑ Project documentation
- ‚úÖ Task management

Happy writing! üöÄ`;

                const input = document.getElementById('markdown-input');
                if (input) {
                    input.value = sample;
                    updatePreview();
                }
            }

            async function copyToClipboard() {
                const textarea = document.getElementById('markdown-input');
                if (!textarea) return;
                
                const text = textarea.value;
                try {
                    await navigator.clipboard.writeText(text);
                    showNotification('Markdown copied to clipboard!');
                } catch (err) {
                    fallbackCopyTextToClipboard(text);
                }
            }

            async function copyHTML() {
                const textarea = document.getElementById('markdown-input');
                if (!textarea) return;
                
                const markdown = textarea.value;
                const html = parseMarkdown(markdown);
                try {
                    await navigator.clipboard.writeText(html);
                    showNotification('HTML copied to clipboard!');
                } catch (err) {
                    fallbackCopyTextToClipboard(html);
                }
            }

            function fallbackCopyTextToClipboard(text) {
                const textArea = document.createElement("textarea");
                textArea.value = text;
                textArea.style.top = "0";
                textArea.style.left = "0";
                textArea.style.position = "fixed";
                document.body.appendChild(textArea);
                textArea.focus();
                textArea.select();
                
                try {
                    document.execCommand('copy');
                    showNotification('Content copied to clipboard!');
                } catch (err) {
                    showNotification('Failed to copy content');
                }
                
                document.body.removeChild(textArea);
            }

            function downloadMarkdown() {
                const textarea = document.getElementById('markdown-input');
                if (!textarea) return;
                
                const text = textarea.value;
                const blob = new Blob([text], { type: 'text/markdown' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'document.md';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
                showNotification('Markdown file downloaded!');
            }

            function downloadHTML() {
                const textarea = document.getElementById('markdown-input');
                if (!textarea) return;
                
                const markdown = textarea.value;
                const html = `<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; line-height: 1.6; }
        pre { background: #f5f5f5; padding: 15px; border-radius: 5px; overflow-x: auto; }
        code { background: #f5f5f5; padding: 2px 5px; border-radius: 3px; }
        blockquote { border-left: 4px solid #ddd; margin: 0; padding-left: 20px; color: #666; }
        table { border-collapse: collapse; width: 100%; }
        th, td { border: 1px solid #ddd; padding: 8px 12px; text-align: left; }
        th { background: #f5f5f5; }
    </style>
</head>
<body>
${parseMarkdown(markdown)}
</body>
</html>`;
                
                const blob = new Blob([html], { type: 'text/html' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'document.html';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
                showNotification('HTML file downloaded!');
            }

            function showNotification(message) {
                // Create notification element
                const notification = document.createElement('div');
                notification.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: var(--accent-color);
                    color: white;
                    padding: 12px 24px;
                    border-radius: 8px;
                    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                    z-index: 1000;
                    font-weight: 500;
                    animation: slideIn 0.3s ease;
                `;
                notification.textContent = message;
                
                // Add animation styles
                const style = document.createElement('style');
                style.textContent = `
                    @keyframes slideIn {
                        from { transform: translateX(100%); opacity: 0; }
                        to { transform: translateX(0); opacity: 1; }
                    }
                `;
                document.head.appendChild(style);
                
                document.body.appendChild(notification);
                
                // Remove after 3 seconds
                setTimeout(() => {
                    notification.style.animation = 'slideIn 0.3s ease reverse';
                    setTimeout(() => {
                        if (notification.parentNode) {
                            notification.parentNode.removeChild(notification);
                        }
                    }, 300);
                }, 3000);
            }

            // Make functions global so they can be called from onclick handlers
            window.insertText = insertText;
            window.wrapText = wrapText;
            window.insertTable = insertTable;
            window.insertCodeBlock = insertCodeBlock;
            window.clearEditor = clearEditor;
            window.loadSample = loadSample;
            window.copyToClipboard = copyToClipboard;
            window.copyHTML = copyHTML;
            window.downloadMarkdown = downloadMarkdown;
            window.downloadHTML = downloadHTML;
            window.updatePreview = updatePreview;

            // Initialize editor when DOM is ready
            document.addEventListener('DOMContentLoaded', function() {
                const textarea = document.getElementById('markdown-input');
                if (!textarea) return;
                
                // Load sample content on first load
                loadSample();
                
                // Add input listener for real-time updates
                textarea.addEventListener('input', updatePreview);
                
                // Keyboard shortcuts
                textarea.addEventListener('keydown', function(e) {
                    if (e.ctrlKey || e.metaKey) {
                        switch(e.key) {
                            case 'b':
                                e.preventDefault();
                                wrapText('**', '**');
                                break;
                            case 'i':
                                e.preventDefault();
                                wrapText('*', '*');
                                break;
                            case 's':
                                e.preventDefault();
                                copyToClipboard();
                                break;
                        }
                    }
                    
                    // Tab to indent
                    if (e.key === 'Tab') {
                        e.preventDefault();
                        insertText('    ', '');
                    }
                });

                // Auto-resize textarea
                textarea.addEventListener('input', function() {
                    this.style.height = 'auto';
                    this.style.height = Math.max(this.scrollHeight, 600) + 'px';
                });
            });
        }
    </script>
</body>
</html>
